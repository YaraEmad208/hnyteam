var MindbehindSDK=function(){"use strict";var t=function(){function t(){var t=this;this.initialize=function(){var e=function(t){for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++)if(e[n].src.indexOf("/"+t)>-1){for(var i=e[n].src.split("?").pop().split("&"),r={},a=0;a<i.length;a++){var o=i[a].split("=");r[o[0]]=o[1]}return r}return{}}("mindbehind-sdk");t.setAuto(e.auto),t.setKey(e.key),t.setApi(e.api),t.auto&&t.loadMessanger()}}return t.prototype.setAuto=function(t){this.auto="true"===t},t.prototype.setKey=function(t){this.key=t},t.prototype.setApi=function(t){this.api=t},t.prototype.loadMessanger=function(){var t=this;(function(t,e){var n="app.";switch(e){case"test":n="dev.";break;case"tr":n="trapp.";break;default:n="app."}return fetch("https://"+n+"mindbehind.com/external/v1/channel/retrieveWebMessengerScript/byChannelID/"+t+"?api="+e,{method:"GET"}).then((function(t){return t.text()})).then((function(t){var e=document.createElement("script");return e.setAttribute("type","text/javascript"),e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e),e})).catch((function(t){console.log("An error happend while trying to connect to backend: "+t.message)}))})(this.key,this.api).then((function(e){t.scriptHandle=e}))},t.docReady=function(t){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)},t}(),e=new t;return t.docReady(e.initialize),e}();
